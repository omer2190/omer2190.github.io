import{r as l,M as oe,j as e,g as Z,P as le,h as de,i as ce,k as pe,c as v,u as $,f as me,G as ge,m as I}from"./index-DrPLRJdG.js";import{S as ue,s as j}from"./SEO-BucwqiI4.js";import{P as O,C as J,L as he,G as xe}from"./panels-top-left-B01ibNIO.js";import{M as Q}from"./mail-D43njjUw.js";class ye extends l.Component{getSnapshotBeforeUpdate(i){const t=this.props.childRef.current;if(t&&i.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function be({children:o,isPresent:i}){const t=l.useId(),r=l.useRef(null),s=l.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=l.useContext(oe);return l.useInsertionEffect(()=>{const{width:a,height:g,top:x,left:m}=s.current;if(i||!r.current||!a||!g)return;r.current.dataset.motionPopId=t;const u=document.createElement("style");return c&&(u.nonce=c),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${g}px !important;
            top: ${x}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[i]),e.jsx(ye,{isPresent:i,childRef:r,sizeRef:s,children:l.cloneElement(o,{ref:r})})}const fe=({children:o,initial:i,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:c,mode:a})=>{const g=Z(je),x=l.useId(),m=l.useCallback(k=>{g.set(k,!0);for(const z of g.values())if(!z)return;r&&r()},[g,r]),u=l.useMemo(()=>({id:x,initial:i,isPresent:t,custom:s,onExitComplete:m,register:k=>(g.set(k,!1),()=>g.delete(k))}),c?[Math.random(),m]:[t,m]);return l.useMemo(()=>{g.forEach((k,z)=>g.set(z,!1))},[t]),l.useEffect(()=>{!t&&!g.size&&r&&r()},[t]),a==="popLayout"&&(o=e.jsx(be,{isPresent:t,children:o})),e.jsx(le.Provider,{value:u,children:o})};function je(){return new Map}const N=o=>o.key||"";function Y(o){const i=[];return l.Children.forEach(o,t=>{l.isValidElement(t)&&i.push(t)}),i}const ve=({children:o,custom:i,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:c="sync",propagate:a=!1})=>{const[g,x]=de(a),m=l.useMemo(()=>Y(o),[o]),u=a&&!g?[]:m.map(N),k=l.useRef(!0),z=l.useRef(m),n=Z(()=>new Map),[f,M]=l.useState(m),[S,B]=l.useState(m);ce(()=>{k.current=!1,z.current=m;for(let y=0;y<S.length;y++){const h=N(S[y]);u.includes(h)?n.delete(h):n.get(h)!==!0&&n.set(h,!1)}},[S,u.length,u.join("-")]);const R=[];if(m!==f){let y=[...m];for(let h=0;h<S.length;h++){const C=S[h],P=N(C);u.includes(P)||(y.splice(h,0,C),R.push(C))}c==="wait"&&R.length&&(y=R),B(Y(y)),M(m);return}const{forceRender:E}=l.useContext(pe);return e.jsx(e.Fragment,{children:S.map(y=>{const h=N(y),C=a&&!g?!1:m===S||u.includes(h),P=()=>{if(n.has(h))n.set(h,!0);else return;let W=!0;n.forEach(H=>{H||(W=!1)}),W&&(E==null||E(),B(z.current),a&&(x==null||x()),r&&r())};return e.jsx(fe,{isPresent:C,initial:!k.current||t?void 0:!1,custom:C?void 0:i,presenceAffectsLayout:s,mode:c,onExitComplete:C?void 0:P,children:y},h)})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=v("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=v("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=v("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=v("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=v("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=v("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=v("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=v("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=v("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=v("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=v("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=v("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=v("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=v("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Oe=()=>{const{lang:o,t:i}=$(),t=me(),[r,s]=l.useState("overview"),[c,a]=l.useState(null),[g,x]=l.useState(!0),[m,u]=l.useState(!1),[k,z]=l.useState([]),[n,f]=l.useState([]),[M,S]=l.useState({}),[B,R]=l.useState(!1),[E,y]=l.useState(null),[h,C]=l.useState(null),[P,W]=l.useState({title_ar:"",title_en:"",description_ar:"",description_en:"",content_ar:"",content_en:"",link:"",year:new Date().getFullYear(),tags:[],image_count:1,images:[],display_order:0}),[H,V]=l.useState({name:"",progress:80,category:"mobile",icon_class:"fas fa-code"}),w=(p,d="success")=>{C({message:p,type:d}),setTimeout(()=>C(null),3e3)};l.useEffect(()=>{(async()=>{const{data:{user:d}}=await j.auth.getUser();d?(a(d),T()):t("/login")})()},[t]);const T=async()=>{x(!0);try{const[p,d,A]=await Promise.all([j.from("projects").select("*").order("id",{ascending:!1}),j.from("skills").select("*").order("category"),j.from("profile").select("*")]);if(p.data&&z(p.data),d.data&&f(d.data),A.data){const _={};A.data.forEach(D=>{_[D.category]||(_[D.category]={}),_[D.category][D.key]=D.value}),S(_)}}catch(p){console.error(p),w("Error loading data","error")}finally{x(!1)}},re=async()=>{await j.auth.signOut(),t("/login")},q=(p=null)=>{p?(y(p),W({...p,tags:p.tags||[]})):(y(null),W({title_ar:"",title_en:"",description_ar:"",description_en:"",content_ar:"",content_en:"",link:"",year:new Date().getFullYear(),tags:[],image_count:1,images:[],display_order:0})),R(!0)},ie=async p=>{p.preventDefault(),u(!0);try{if(E){const{error:d}=await j.from("projects").update(P).eq("id",E.id);if(d)throw d;w("Project updated")}else{const{error:d}=await j.from("projects").insert([P]);if(d)throw d;w("Project added")}R(!1),T()}catch(d){w(d.message,"error")}finally{u(!1)}},ae=async p=>{if(window.confirm(i("admin-confirm-delete")))try{const{error:d}=await j.from("projects").delete().eq("id",p);if(d)throw d;w("Project deleted"),T()}catch(d){w(d.message,"error")}},se=async p=>{p.preventDefault(),u(!0);try{const{error:d}=await j.from("skills").insert([H]);if(d)throw d;w("Skill added"),V({name:"",progress:80,category:"mobile",icon_class:"fas fa-code"}),T()}catch(d){w(d.message,"error")}finally{u(!1)}},ne=async p=>{if(window.confirm(i("admin-confirm-delete")))try{const{error:d}=await j.from("skills").delete().eq("id",p);if(d)throw d;w("Skill deleted"),T()}catch(d){w(d.message,"error")}},G=async(p,d,A)=>{try{const{error:_}=await j.from("profile").upsert({category:p,key:d,value:A},{onConflict:"key"});if(_)throw _;w("Profile updated"),T()}catch(_){w(_.message,"error")}};return c?e.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"#0f172a",color:"white"},children:[e.jsx(ue,{title:i("admin-title")}),e.jsxs("aside",{style:{width:"280px",background:"#1e293b",borderLeft:o==="ar"?"1px solid rgba(255,255,255,0.05)":"none",borderRight:o==="en"?"1px solid rgba(255,255,255,0.05)":"none",padding:"2rem 1rem",display:"flex",flexDirection:"column",position:"sticky",top:0,height:"100vh",zIndex:50},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0 1rem",marginBottom:"3rem"},children:[e.jsx("div",{style:{padding:"0.75rem",background:"var(--primary)",borderRadius:"1rem"},children:e.jsx(O,{size:24})}),e.jsxs("span",{style:{fontSize:"1.2rem",fontWeight:900},children:[i("nav-logo")," CMS"]})]}),e.jsxs("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1},children:[e.jsx(L,{active:r==="overview",onClick:()=>s("overview"),icon:e.jsx(ze,{size:20}),label:i("admin-nav-overview")}),e.jsx(L,{active:r==="projects",onClick:()=>s("projects"),icon:e.jsx(O,{size:20}),label:i("admin-nav-projects")}),e.jsx(L,{active:r==="skills",onClick:()=>s("skills"),icon:e.jsx(J,{size:20}),label:i("admin-nav-skills")}),e.jsx(L,{active:r==="about",onClick:()=>s("about"),icon:e.jsx(Ie,{size:20}),label:i("admin-nav-about")}),e.jsx(L,{active:r==="contact",onClick:()=>s("contact"),icon:e.jsx(Q,{size:20}),label:i("admin-nav-contact")}),e.jsx(L,{active:r==="settings",onClick:()=>s("settings"),icon:e.jsx(Pe,{size:20}),label:i("admin-nav-settings")})]}),e.jsx("div",{style:{padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.05)",marginTop:"auto"},children:e.jsxs("button",{onClick:re,style:{width:"100%",padding:"0.75rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",gap:"0.75rem",color:"#ef4444",background:"rgba(239, 68, 68, 0.1)",border:"none",cursor:"pointer",fontWeight:700},children:[e.jsx(Re,{size:20}),i("admin-logout")]})})]}),e.jsxs("main",{style:{flex:1,padding:"3rem",overflowY:"auto"},children:[e.jsxs("header",{style:{marginBottom:"3rem",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:900,marginBottom:"0.5rem"},children:i(`admin-nav-${r}`)}),e.jsx("p",{style:{color:"var(--text-muted)"},children:c.email})]}),e.jsx("div",{style:{display:"flex",gap:"1rem"},children:e.jsx("button",{onClick:()=>T(),style:{padding:"0.75rem",borderRadius:"0.75rem",background:"rgba(255,255,255,0.05)",border:"none",cursor:"pointer"},children:e.jsx(ge,{size:20})})})]}),g?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:e.jsx(K,{className:"animate-spin",size:48,color:"var(--primary)"})}):e.jsxs(ve,{mode:"wait",children:[r==="overview"&&e.jsx(Me,{projects:k,skills:n},"overview"),r==="projects"&&e.jsx(Be,{projects:k,onAdd:()=>q(),onEdit:q,onDelete:ae,t:i},"projects"),r==="skills"&&e.jsx(Te,{skills:n,form:H,setForm:V,onSubmit:se,onDelete:ne,t:i},"skills"),r==="about"&&e.jsx(We,{profile:M,onUpdate:G,t:i},"about"),r==="contact"&&e.jsx(Le,{profile:M,onUpdate:G,t:i},"contact"),r==="settings"&&e.jsx(De,{t:i,showToast:w},"settings")]})]}),B&&e.jsx(Ee,{isOpen:B,onClose:()=>R(!1),form:P,setForm:W,onSubmit:ie,isEditing:!!E,t:i,loading:m}),h&&e.jsxs(I.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},style:{position:"fixed",bottom:"2rem",right:"2rem",padding:"1rem 2rem",background:h.type==="success"?"#10b981":"#ef4444",borderRadius:"1rem",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",display:"flex",alignItems:"center",gap:"0.75rem",zIndex:1e3},children:[h.type==="success"?e.jsx(we,{size:20}):e.jsx(ke,{size:20}),h.message]}),m&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)",zIndex:3e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(K,{className:"animate-spin",size:64,color:"var(--primary)"})})]}):null},L=({active:o,onClick:i,icon:t,label:r})=>e.jsxs("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem 1rem",borderRadius:"0.75rem",background:o?"rgba(99, 102, 241, 0.1)":"transparent",color:o?"var(--primary)":"var(--text-muted)",border:"none",cursor:"pointer",textAlign:"left",fontWeight:o?700:500,transition:"all 0.3s"},children:[t,e.jsx("span",{style:{fontSize:"0.95rem"},children:r})]}),Me=({projects:o,skills:i})=>{const{t}=$();return e.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},children:[e.jsx(U,{label:t("admin-stats-total-projects"),value:o.length,icon:e.jsx(O,{size:32}),color:"#6366f1"}),e.jsx(U,{label:t("admin-stats-total-skills"),value:i.length,icon:e.jsx(J,{size:32}),color:"#ec4899"}),e.jsx(U,{label:t("admin-stats-years-exp"),value:"6+",icon:e.jsx(Ce,{size:32}),color:"#10b981"})]}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",borderRadius:"2rem",padding:"3rem",border:"1px solid rgba(255,255,255,0.05)",textAlign:"center"},children:[e.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:800,marginBottom:"1.5rem"},children:"Welcome Back! ðŸ‘‹"}),e.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"600px",margin:"0 auto",lineHeight:1.6},children:"Manage your portfolio content from here. You can add projects, update your skills, and keep your profile information up to date."})]})]})},U=({label:o,value:i,icon:t,color:r})=>e.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"2rem",borderRadius:"1.5rem",border:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",gap:"1.5rem"},children:[e.jsx("div",{style:{padding:"1rem",background:`${r}15`,color:r,borderRadius:"1rem"},children:t}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"0.25rem"},children:o}),e.jsx("p",{style:{fontSize:"2rem",fontWeight:900},children:i})]})]}),Be=({projects:o,onAdd:i,onEdit:t,onDelete:r,t:s})=>{const{lang:c}=$();return e.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:800},children:"Manage Projects"}),e.jsxs("button",{onClick:i,style:{padding:"0.75rem 1.5rem",background:"var(--primary)",borderRadius:"0.75rem",color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:700},children:[e.jsx(ee,{size:20}),s("admin-add-project")]})]}),e.jsx("div",{style:{display:"grid",gap:"1rem"},children:o.map(a=>{var g,x;return e.jsxs("div",{style:{padding:"1.5rem",background:"rgba(255,255,255,0.02)",borderRadius:"1rem",border:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[e.jsx("div",{style:{width:"80px",height:"60px",borderRadius:"0.5rem",background:"rgba(255,255,255,0.05)",overflow:"hidden"},children:e.jsx("img",{src:((g=a.images)==null?void 0:g[0])||"https://via.placeholder.com/80x60",style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontWeight:700},children:c==="ar"?a.title_ar:a.title_en}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[a.year," | ",(x=a.tags)==null?void 0:x.join(", ")]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsx("button",{onClick:()=>t(a),style:{padding:"0.5rem",borderRadius:"0.5rem",background:"rgba(255,255,255,0.05)",border:"none",cursor:"pointer",color:"var(--primary)"},children:e.jsx(_e,{size:18})}),e.jsx("button",{onClick:()=>r(a.id),style:{padding:"0.5rem",borderRadius:"0.5rem",background:"rgba(255,255,255,0.05)",border:"none",cursor:"pointer",color:"#ef4444"},children:e.jsx(te,{size:18})})]})]},a.id)})})]})},Ee=({isOpen:o,onClose:i,form:t,setForm:r,onSubmit:s,isEditing:c,t:a,loading:g})=>{var z;const[x,m]=l.useState(!1),u=async n=>{const f=Array.from(n.target.files);if(f.length!==0){m(!0);try{const M=f.map(async B=>{const R=B.name.split(".").pop(),y=`projects/${`${Math.random()}.${R}`}`,{data:h,error:C}=await j.storage.from("portfolio").upload(y,B);if(C)throw C;const{data:{publicUrl:P}}=j.storage.from("portfolio").getPublicUrl(y);return P}),S=await Promise.all(M);r({...t,images:[...t.images||[],...S]})}catch(M){alert("Error uploading images: "+M.message)}finally{m(!1)}}},k=n=>{const f=[...t.images];f.splice(n,1),r({...t,images:f})};return e.jsxs("div",{style:{position:"fixed",inset:0,zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:[e.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},onClick:i,style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(8px)"}}),e.jsxs(I.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},style:{position:"relative",width:"100%",maxWidth:"900px",background:"#1e293b",borderRadius:"2rem",overflow:"hidden",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{padding:"2rem",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:900},children:c?"Edit Project":a("admin-add-project")}),e.jsx("button",{onClick:i,style:{background:"transparent",border:"none",color:"var(--text-muted)",cursor:"pointer"},children:e.jsx(F,{size:24})})]}),e.jsxs("form",{onSubmit:s,style:{padding:"2rem",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem"},children:[e.jsxs("div",{style:{gridColumn:"span 2",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1.5rem",padding:"1.5rem",background:"rgba(255,255,255,0.02)",borderRadius:"1.5rem",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("h3",{style:{gridColumn:"span 2",fontSize:"1rem",color:"var(--primary)",fontWeight:800,marginBottom:"0.5rem"},children:"Project Images"}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsxs("div",{style:{width:"100%",padding:"2rem",border:"2px dashed rgba(255,255,255,0.1)",borderRadius:"1rem",textAlign:"center",background:"rgba(255,255,255,0.02)",cursor:"pointer",position:"relative"},children:[e.jsx(Se,{size:48,color:"var(--primary)",style:{marginBottom:"1rem"}}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:x?"Uploading...":"Click or drop images to upload"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:u,style:{position:"absolute",inset:0,opacity:0,cursor:"pointer"},disabled:x})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"1rem",marginTop:"1.5rem"},children:(z=t.images)==null?void 0:z.map((n,f)=>e.jsxs("div",{style:{position:"relative",height:"80px",borderRadius:"0.5rem",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("img",{src:n,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx("button",{onClick:()=>k(f),type:"button",style:{position:"absolute",top:"2px",right:"2px",background:"rgba(239, 68, 68, 0.8)",color:"white",border:"none",borderRadius:"4px",padding:"2px",cursor:"pointer"},children:e.jsx(F,{size:14})})]},f))})]})]}),e.jsx(b,{label:"Title (AR)",value:t.title_ar,onChange:n=>r({...t,title_ar:n})}),e.jsx(b,{label:"Title (EN)",value:t.title_en,onChange:n=>r({...t,title_en:n})}),e.jsx(b,{label:"Year",value:t.year,onChange:n=>r({...t,year:n})}),e.jsx(b,{label:"Link",value:t.link,onChange:n=>r({...t,link:n})}),e.jsx(b,{label:"Display Order (0 = First)",type:"number",value:t.display_order,onChange:n=>r({...t,display_order:parseInt(n)})}),e.jsx(b,{label:"Tags (split by ,)",value:t.tags.join(", "),onChange:n=>r({...t,tags:n.split(",").map(f=>f.trim())})}),e.jsx(b,{label:"Image Count",type:"number",value:t.image_count,onChange:n=>r({...t,image_count:parseInt(n)})}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Description (AR)"}),e.jsx("textarea",{value:t.description_ar,onChange:n=>r({...t,description_ar:n.target.value}),style:{width:"100%",padding:"1rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white",minHeight:"80px"}})]}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Description (EN)"}),e.jsx("textarea",{value:t.description_en,onChange:n=>r({...t,description_en:n.target.value}),style:{width:"100%",padding:"1rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white",minHeight:"80px"}})]}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Content (AR)"}),e.jsx("textarea",{value:t.content_ar,onChange:n=>r({...t,content_ar:n.target.value}),style:{width:"100%",padding:"1rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white",minHeight:"120px"}})]}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Content (EN)"}),e.jsx("textarea",{value:t.content_en,onChange:n=>r({...t,content_en:n.target.value}),style:{width:"100%",padding:"1rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white",minHeight:"120px"}})]}),e.jsxs("div",{style:{gridColumn:"span 2",display:"flex",gap:"1rem",marginTop:"1rem"},children:[e.jsx("button",{type:"submit",style:{flex:1,padding:"1rem",background:"var(--primary)",color:"white",borderRadius:"0.75rem",border:"none",fontWeight:800,cursor:"pointer"},children:a("admin-save")}),e.jsx("button",{type:"button",onClick:i,style:{padding:"1rem 2rem",background:"rgba(255,255,255,0.05)",color:"white",borderRadius:"0.75rem",border:"none",cursor:"pointer"},children:a("admin-cancel")})]})]})]})]})},Te=({skills:o,form:i,setForm:t,onSubmit:r,onDelete:s,t:c})=>e.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},children:[e.jsxs("form",{onSubmit:r,style:{padding:"2rem",background:"rgba(255,255,255,0.02)",borderRadius:"1.5rem",border:"1px solid rgba(255,255,255,0.05)",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"3rem"},children:[e.jsx(b,{label:"Skill Name",value:i.name,onChange:a=>t({...i,name:a})}),e.jsx(b,{label:"Progress (0-100)",type:"number",value:i.progress,onChange:a=>t({...i,progress:parseInt(a)})}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:"Category"}),e.jsxs("select",{value:i.category,onChange:a=>t({...i,category:a.target.value}),style:{width:"100%",padding:"0.75rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white"},children:[e.jsx("option",{value:"mobile",children:"Mobile"}),e.jsx("option",{value:"backend",children:"Backend"}),e.jsx("option",{value:"tools",children:"Tools"})]})]}),e.jsx("button",{type:"submit",style:{alignSelf:"flex-end",padding:"0.75rem",background:"var(--primary)",border:"none",borderRadius:"0.75rem",color:"white",fontWeight:700},children:e.jsx(ee,{size:20})})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:o.map(a=>e.jsxs("div",{style:{padding:"1.25rem",background:"rgba(255,255,255,0.02)",borderRadius:"1rem",border:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontWeight:700},children:a.name}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:[a.category," | ",a.progress,"%"]})]}),e.jsx("button",{onClick:()=>s(a.id),style:{color:"#ef4444",background:"transparent",border:"none",cursor:"pointer"},children:e.jsx(te,{size:18})})]},a.id))})]}),We=({profile:o,onUpdate:i,t})=>{const r=o.about||{};return e.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},style:{maxWidth:"800px"},children:e.jsx("div",{style:{display:"grid",gap:"2rem"},children:e.jsxs("div",{style:{padding:"2rem",background:"rgba(255,255,255,0.02)",borderRadius:"1.5rem",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("h3",{style:{marginBottom:"1.5rem",color:"var(--primary)",fontWeight:800},children:"Hero Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[e.jsx(b,{label:"Name (AR)",value:r.name_ar||"",onBlur:s=>i("about","name_ar",s)}),e.jsx(b,{label:"Name (EN)",value:r.name_en||"",onBlur:s=>i("about","name_en",s)}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Description (AR)"}),e.jsx("textarea",{defaultValue:r.description_ar,onBlur:s=>i("about","description_ar",s.target.value),style:{width:"100%",padding:"1rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white",minHeight:"80px"}})]}),e.jsxs("div",{style:{gridColumn:"span 2"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Description (EN)"}),e.jsx("textarea",{defaultValue:r.description_en,onBlur:s=>i("about","description_en",s.target.value),style:{width:"100%",padding:"1rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white",minHeight:"80px"}})]})]})]})})})},Le=({profile:o,onUpdate:i,t})=>{const r=o.contact||{};return e.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},style:{maxWidth:"800px"},children:e.jsxs("div",{style:{padding:"2rem",background:"rgba(255,255,255,0.02)",borderRadius:"1.5rem",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("h3",{style:{marginBottom:"1.5rem",color:"var(--primary)",fontWeight:800},children:"Contact Links"}),e.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[e.jsx(b,{label:"Email",value:r.email||"",onBlur:s=>i("contact","email",s),icon:e.jsx(Q,{size:18})}),e.jsx(b,{label:"LinkedIn",value:r.linkedin||"",onBlur:s=>i("contact","linkedin",s),icon:e.jsx(he,{size:18})}),e.jsx(b,{label:"GitHub",value:r.github||"",onBlur:s=>i("contact","github",s),icon:e.jsx(xe,{size:18})})]})]})})},De=({t:o,showToast:i})=>{const[t,r]=l.useState({old:"",new:"",confirm:""}),s=async c=>{if(c.preventDefault(),t.new!==t.confirm)return i("Passwords dont match","error");const{error:a}=await j.auth.updateUser({password:t.new});a?i(a.message,"error"):(i("Password changed successfully"),r({old:"",new:"",confirm:""}))};return e.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},style:{maxWidth:"600px"},children:e.jsxs("div",{style:{padding:"2rem",background:"rgba(255,255,255,0.02)",borderRadius:"1.5rem",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("h3",{style:{marginBottom:"1.5rem",color:"var(--primary)",fontWeight:800},children:"Change Password"}),e.jsxs("form",{onSubmit:s,style:{display:"grid",gap:"1.25rem"},children:[e.jsx(b,{label:"New Password",type:"password",value:t.new,onChange:c=>r({...t,new:c}),icon:e.jsx(X,{size:18})}),e.jsx(b,{label:"Confirm Password",type:"password",value:t.confirm,onChange:c=>r({...t,confirm:c}),icon:e.jsx(X,{size:18})}),e.jsx("button",{type:"submit",style:{padding:"1rem",background:"var(--primary)",color:"white",borderRadius:"0.75rem",border:"none",fontWeight:800,cursor:"pointer"},children:"Update Password"})]})]})})},b=({label:o,icon:i,value:t,onChange:r,onBlur:s,type:c="text"})=>e.jsxs("div",{style:{width:"100%"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:o}),e.jsxs("div",{style:{position:"relative"},children:[i&&e.jsx("div",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"},children:i}),e.jsx("input",{type:c,defaultValue:s?t:void 0,value:r?t:void 0,onChange:r?a=>r(a.target.value):void 0,onBlur:s?a=>s(a.target.value):void 0,style:{width:"100%",padding:`0.75rem 1rem 0.75rem ${i?"2.8rem":"1rem"}`,background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",color:"white",fontSize:"0.95rem",outline:"none"}})]})]});export{Oe as default};
